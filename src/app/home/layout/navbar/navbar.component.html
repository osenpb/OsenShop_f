<nav class="
    fixed top-0 left-0 right-0 z-50 pb-2
    bg-black/80 backdrop-blur-md
    border-b border-white/10
  ">
  <div class="max-w-7xl mx-auto px-6 py-4">

    <div class="
        flex items-center justify-between
        backdrop-blur-xl bg-black/40
        border border-white/10
        rounded-full
        px-8 py-3
        shadow-[0_8px_30px_rgba(0,0,0,0.4)]
      ">

      <!-- Logo -->
      <div class="
          text-white font-semibold
          text-lg tracking-wide
          select-none
        ">
        OsenShop
      </div>

      <!-- Links -->
      <ul class="
          flex items-center gap-8
          text-sm font-medium
          text-white/90
        ">

        <li>
          <a routerLink="/brands" class="
              px-3 py-2
              rounded-xl
              hover:bg-white/10
              hover:text-white
              transition
              cursor-pointer
            ">
            Brands
          </a>
        </li>

        <li>
          <a routerLink="/home/index" class="
              px-3 py-2
              rounded-xl
              hover:bg-white/10
              hover:text-white
              transition
              cursor-pointer
            ">
            Shop
          </a>
        </li>

        <li>
          <a routerLink="/blog" class="
              px-3 py-2
              rounded-xl
              hover:bg-white/10
              hover:text-white
              transition
              cursor-pointer
            ">
            Blog
          </a>
        </li>

      </ul>

      <!-- Actions -->
      <div class="flex items-center gap-4 relative">

        @if (isAuthenticated()) {
        {{ showUser() }}
        <!-- Cart icon -->
        <a routerLink="/home/cart" class="
              text-white/90
              hover:text-white
              transition
            " aria-label="Cart">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5
                       M7 13l-2 9m12-9l2 9m-5-9v9" />
          </svg>
        </a>

        <!-- User dropdown -->
        <div class="relative">

          <!-- User icon -->
          <button type="button" (click)="toggleUserMenu()" class="
                text-white/90
                hover:text-white
                transition
              " aria-label="User menu">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 15
                         c2.5 0 4.847.655 6.879 1.804
                         M15 10a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            @if (user()?.firstName) {
            <span>{{ user()?.firstName }}</span>
            }
          </button>

          @if (isUserMenuOpen()) {
          <div class="
                  absolute right-0 mt-3 w-48
                  backdrop-blur-xl bg-black/70
                  border border-white/10
                  rounded-xl shadow-xl
                  overflow-hidden
                  text-white
                ">

            <a routerLink="/home/profile" (click)="closeUserMenu()" class="
                    block px-4 py-3 text-sm
                    hover:bg-white/10
                    transition
                  ">
              Mi perfil
            </a>

            <a routerLink="/home/cart" (click)="closeUserMenu()" class="
                    block px-4 py-3 text-sm
                    hover:bg-white/10
                    transition
                  ">
              Mi carrito
            </a>

            <button (click)="logout()" class="
                    w-full text-left px-4 py-3 text-sm
                    text-red-400
                    hover:bg-white/10
                    transition
                  ">
              Cerrar sesión
            </button>

          </div>
          }

        </div>

        } @else {

        <!-- Login button -->
        <a routerLink="/login" class="
              text-sm font-medium
              bg-white text-black
              px-5 py-2
              rounded-full
              hover:bg-white/90
              transition
            ">
          Iniciar sesión
        </a>

        }

      </div>

    </div>

  </div>
</nav>
