<section class="max-w-4xl mx-auto px-6 py-16 text-white">

  <h1 class="text-2xl font-semibold mb-10">
    Finalizar compra
  </h1>

  <form
    [formGroup]="form"
    (ngSubmit)="submit()"
    class="space-y-10"
  >

    <!-- ======================
         Información del usuario
         ====================== -->
    <div class="backdrop-blur-md bg-neutral-900/70 border border-white/10 rounded-2xl p-6">
      <h2 class="text-lg font-medium mb-4">
        Información del usuario
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-300">
        @if (user()) {
          <div>
            <p class="text-gray-400">Nombre</p>
            <p class="font-medium text-white">{{ user()!.lastName }}</p>
          </div>

          <div>
            <p class="text-gray-400">Correo</p>
            <p class="font-medium text-white">{{ user()!.email }}</p>
          </div>
        } @else {
          <div>
            <p class="text-gray-400">Nombre</p>
            <p class="font-medium text-white">—</p>
          </div>
          <div>
            <p class="text-gray-400">Correo</p>
            <p class="font-medium text-white">—</p>
          </div>
        }
      </div>
    </div>

    <!-- ======================
         Dirección de envío
         ====================== -->
    <div class="backdrop-blur-md bg-neutral-900/70 border border-white/10 rounded-2xl p-6">
      <h2 class="text-lg font-medium mb-4">
        Dirección de envío
      </h2>

      <textarea
        formControlName="shippingAddress"
        rows="3"
        placeholder="Ej. Av. Siempre Viva 742, Lima"
        class="
          w-full bg-black/40 border border-white/10 rounded-xl p-4 text-sm
          placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-white/30
        "
      ></textarea>

      @if (form.controls.shippingAddress.touched && form.controls.shippingAddress.invalid) {
        <p class="mt-2 text-sm text-red-400">Ingresa una dirección válida</p>
      }
    </div>

    <!-- ======================
         Método de pago
         ====================== -->
    <div class="backdrop-blur-md bg-neutral-900/70 border border-white/10 rounded-2xl p-6">
      <h2 class="text-lg font-medium mb-6">
        Método de pago
      </h2>

      <div class="space-y-4 opacity-70 pointer-events-none">

        <input
          type="text"
          placeholder="1234 5678 9012 3456"
          class="w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm"
        />

        <div class="grid grid-cols-2 gap-4">
          <input
            type="text"
            placeholder="MM/AA"
            class="bg-black/40 border border-white/10 rounded-xl p-3 text-sm"
          />
          <input
            type="password"
            placeholder="CVV"
            class="bg-black/40 border border-white/10 rounded-xl p-3 text-sm"
          />
        </div>

        <p class="text-xs text-gray-400">
          Pago con tarjeta aún no disponible
        </p>

      </div>
    </div>


    <div class="flex justify-end">
      <button
        type="submit"
        [disabled]="form.invalid"
        class="
          bg-white text-black px-8 py-3 rounded-full text-sm font-medium
          hover:bg-gray-200 transition
          disabled:opacity-40 disabled:cursor-not-allowed
        "
      >
        Confirmar pedido
      </button>
    </div>

  </form>
</section>
